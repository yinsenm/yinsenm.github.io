---
layout: post
title: Load a random picture in Jekyll using Script
---
<p>It is frustrating for the user to see the same content with different visits. Suppose we want to direct the user to a <code>404</code> page if certain link is broken. It might be comforting, if we can show him or her a different <code>404</code> page such as this <a href="/404">example</a>. We can load <code>404</code> pages with random pictures on it by using a little bit of <code>Java script</code>.</p>

<p>Following those the two steps, We can accomplish this task.</p>

<p><div class="toc">
<ul>
<li><a href="#step-1-a-uniform-figures-names">Step 1: A uniform figures names</a></li>
<li><a href="#step-2-a-little-javascript-code">Step 2: A little Javascript code</a></li>
</ul>
</div>
</p>

<h1 id="step-1-a-uniform-figures-names">Step 1: A uniform figures names</h1>

<p>First, we should named the figures file uniformly such that we can use a string expression to capture the pattern of all files. The extensions can be different such as <code>.jpg</code>, <code>.png</code>, <code>.icon</code> but the files names should be a uniform pattern like the following one:</p>

<pre style="" class="prettyprint prettyprinted"><code class="language-bash"><span class="pln">figures</span><span class="pun">/</span><span class="pln">
        </span><span class="lit">404</span><span class="pun">/</span><span class="pln">
            fig </span><span class="pun">(</span><span class="lit">1</span><span class="pun">).</span><span class="pln">png
            fig </span><span class="pun">(</span><span class="lit">2</span><span class="pun">).</span><span class="pln">png
            </span><span class="pun">...</span><span class="pln">
            fig </span><span class="pun">(</span><span class="lit">8</span><span class="pun">).</span><span class="pln">png</span></code></pre>

<h1 id="step-2-a-little-javascript-code">Step 2: A little Javascript code</h1>

<p>Then we add a litte Javascript code to the <code>404.html</code> page which is in the root directory generated by <a href="http://jekyllrb.com/docs/structure/">Jeklly</a>. You might find useful using the <a href="https://github.com/poole/lanyon">lanyon temple</a> directly.</p>

<p>Then add a <code>Javascript</code> line somewhere above the description such as <a href="https://github.com/yinsenm/yinsenm.github.io/blob/master/404.html">this</a>.</p>

<pre style="" class="prettyprint prettyprinted"><code class="language-java"><span class="pun">&lt;</span><span class="pln">script</span><span class="pun">&gt;</span><span class="pln">
    document</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="str">"&lt;img src = \"/figure/404/fig ("</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">floor</span><span class="pun">(</span><span class="lit">1</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()*</span><span class="lit">8</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">").png\"/&gt;"</span><span class="pun">);</span><span class="pln">
</span><span class="pun">&lt;/</span><span class="pln">script</span><span class="pun">&gt;</span></code></pre>